-- üéµ Roblox Music Player 2.0
-- T·∫°o b·ªüi Mila
-- ‚ú® Features: 5 Tabs, Pinned Music (Max 3), Volume Max, All Bugs Fixed

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- üéµ Music Library
local musicLibrary = {
    {name = "Raining üåÆ", id = "142376088"},
    {name = "Fart", id = "4809574295"},
    {name = "Get out!", id = "18900008907"},
    {name = "Dare", id = "139188421510869"},
    {name = "The World", id = "1836847994"},
    {name = "Turks and CaiCos", id = "105615035181825"},
    {name = "My Way", id = "1837856940"},
    {name = "Clash Royale", id = "109699229726518"},
    {name = "Holiday", id = "1836006159"},
    {name = "Metamorphosis Remix", id = "15689451063"},
    {name = "ü´°", id = "1845922899"},
    {name = "B√¨nh Bucu", id = "7000891754"},
    {name = "Anh b·∫°n √†!", id = "7108789306"},
    {name = "C·∫£i L∆∞∆°ng", id = "1843400900"},
    {name = "ƒê√°m ma", id = "1845920681"},
}

-- üíæ User Data
local userData = {
    pinned = {},
    favorites = {},
    history = {},
    theme = "dark",
    repeatMode = "off",
    volume = 5 -- Default volume
}

-- üé® Colors
local colors = {
    primary = Color3.fromRGB(40, 40, 40),
    secondary = Color3.fromRGB(60, 60, 60),
    accent = Color3.fromRGB(76, 175, 80),
    danger = Color3.fromRGB(244, 67, 54),
    warning = Color3.fromRGB(255, 193, 7),
    text = Color3.fromRGB(255, 255, 255),
    textSecondary = Color3.fromRGB(200, 200, 200)
}

-- Variables
local currentSound = nil
local currentPlaying = nil
local filteredMusic = {}
local currentTab = 1
local isMinimized = false

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MusicPlayer2Plus"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 450, 0, 400)
mainFrame.Position = UDim2.new(0.5, -225, 0.5, -200)
mainFrame.BackgroundColor3 = colors.primary
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 12)
mainCorner.Parent = mainFrame

-- Header
local headerFrame = Instance.new("Frame")
headerFrame.Size = UDim2.new(1, 0, 0, 50)
headerFrame.BackgroundTransparency = 1
headerFrame.Parent = mainFrame

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(0, 200, 1, 0)
titleLabel.Position = UDim2.new(0, 15, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "üéµ Music Player V2"
titleLabel.TextColor3 = colors.text
titleLabel.TextSize = 18
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = headerFrame

-- Control Buttons
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 30, 0, 25)
minimizeBtn.Position = UDim2.new(1, -70, 0, 12)
minimizeBtn.BackgroundColor3 = colors.secondary
minimizeBtn.BorderSizePixel = 0
minimizeBtn.Text = "‚ûñ"
minimizeBtn.TextColor3 = colors.text
minimizeBtn.TextSize = 14
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.Parent = headerFrame

local minimizeBtnCorner = Instance.new("UICorner")
minimizeBtnCorner.CornerRadius = UDim.new(0, 4)
minimizeBtnCorner.Parent = minimizeBtn

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 0, 25)
closeBtn.Position = UDim2.new(1, -35, 0, 12)
closeBtn.BackgroundColor3 = colors.danger
closeBtn.BorderSizePixel = 0
closeBtn.Text = "‚ùå"
closeBtn.TextColor3 = colors.text
closeBtn.TextSize = 14
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = headerFrame

local closeBtnCorner = Instance.new("UICorner")
closeBtnCorner.CornerRadius = UDim.new(0, 4)
closeBtnCorner.Parent = closeBtn

-- Now Playing
local nowPlayingFrame = Instance.new("Frame")
nowPlayingFrame.Size = UDim2.new(1, -20, 0, 60)
nowPlayingFrame.Position = UDim2.new(0, 10, 0, 55)
nowPlayingFrame.BackgroundColor3 = colors.secondary
nowPlayingFrame.BorderSizePixel = 0
nowPlayingFrame.Parent = mainFrame

local nowPlayingCorner = Instance.new("UICorner")
nowPlayingCorner.CornerRadius = UDim.new(0, 8)
nowPlayingCorner.Parent = nowPlayingFrame

local musicIcon = Instance.new("TextLabel")
musicIcon.Size = UDim2.new(0, 40, 0, 40)
musicIcon.Position = UDim2.new(0, 10, 0, 10)
musicIcon.BackgroundColor3 = colors.accent
musicIcon.BorderSizePixel = 0
musicIcon.Text = "üéµ"
musicIcon.TextColor3 = colors.text
musicIcon.TextSize = 20
musicIcon.Font = Enum.Font.GothamBold
musicIcon.Parent = nowPlayingFrame

local musicIconCorner = Instance.new("UICorner")
musicIconCorner.CornerRadius = UDim.new(0, 6)
musicIconCorner.Parent = musicIcon

local nowPlayingLabel = Instance.new("TextLabel")
nowPlayingLabel.Size = UDim2.new(1, -120, 0, 25)
nowPlayingLabel.Position = UDim2.new(0, 60, 0, 8)
nowPlayingLabel.BackgroundTransparency = 1
nowPlayingLabel.Text = "Kh√¥ng c√≥ nh·∫°c n√†o ƒëang ph√°t"
nowPlayingLabel.TextColor3 = colors.text
nowPlayingLabel.TextSize = 14
nowPlayingLabel.Font = Enum.Font.GothamBold
nowPlayingLabel.TextXAlignment = Enum.TextXAlignment.Left
nowPlayingLabel.TextTruncate = Enum.TextTruncate.AtEnd
nowPlayingLabel.Parent = nowPlayingFrame

local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, -200, 0, 15)
statusLabel.Position = UDim2.new(0, 60, 0, 30)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "S·∫µn s√†ng ph√°t nh·∫°c"
statusLabel.TextColor3 = colors.textSecondary
statusLabel.TextSize = 11
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.Parent = nowPlayingFrame

-- Volume Control
local volumeFrame = Instance.new("Frame")
volumeFrame.Size = UDim2.new(0, 120, 0, 40)
volumeFrame.Position = UDim2.new(1, -130, 0, 10)
volumeFrame.BackgroundTransparency = 1
volumeFrame.Parent = nowPlayingFrame

local volumeIcon = Instance.new("TextLabel")
volumeIcon.Size = UDim2.new(0, 20, 0, 20)
volumeIcon.Position = UDim2.new(0, 0, 0, 0)
volumeIcon.BackgroundTransparency = 1
volumeIcon.Text = "üîä"
volumeIcon.TextColor3 = colors.text
volumeIcon.TextSize = 14
volumeIcon.Font = Enum.Font.Gotham
volumeIcon.Parent = volumeFrame

local volumeSlider = Instance.new("TextBox")
volumeSlider.Size = UDim2.new(0, 45, 0, 20)
volumeSlider.Position = UDim2.new(0, 25, 0, 0)
volumeSlider.BackgroundColor3 = colors.primary
volumeSlider.BorderSizePixel = 1
volumeSlider.BorderColor3 = colors.accent
volumeSlider.Text = tostring(userData.volume)
volumeSlider.TextColor3 = colors.text
volumeSlider.TextSize = 11
volumeSlider.Font = Enum.Font.Gotham
volumeSlider.Parent = volumeFrame

local volumeSliderCorner = Instance.new("UICorner")
volumeSliderCorner.CornerRadius = UDim.new(0, 4)
volumeSliderCorner.Parent = volumeSlider

local volumeLabel = Instance.new("TextLabel")
volumeLabel.Size = UDim2.new(0, 45, 0, 15)
volumeLabel.Position = UDim2.new(0, 25, 0, 22)
volumeLabel.BackgroundTransparency = 1
volumeLabel.Text = "Volume"
volumeLabel.TextColor3 = colors.textSecondary
volumeLabel.TextSize = 9
volumeLabel.Font = Enum.Font.Gotham
volumeLabel.Parent = volumeFrame

-- Repeat Button
local repeatBtn = Instance.new("TextButton")
repeatBtn.Size = UDim2.new(0, 30, 0, 20)
repeatBtn.Position = UDim2.new(0, 75, 0, 0)
repeatBtn.BackgroundColor3 = colors.primary
repeatBtn.BorderSizePixel = 0
repeatBtn.Text = "üîÑ"
repeatBtn.TextColor3 = colors.textSecondary
repeatBtn.TextSize = 12
repeatBtn.Font = Enum.Font.Gotham
repeatBtn.Parent = volumeFrame

local repeatBtnCorner = Instance.new("UICorner")
repeatBtnCorner.CornerRadius = UDim.new(0, 4)
repeatBtnCorner.Parent = repeatBtn

-- Tab Navigation
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1, -20, 0, 40)
tabFrame.Position = UDim2.new(0, 10, 0, 125)
tabFrame.BackgroundTransparency = 1
tabFrame.Parent = mainFrame

-- Tab Buttons
local tabButtons = {}
local tabNames = {"üÜî Manual", "üìã Library", "üìå Pinned", "‚ù§Ô∏è Favorites", "üìú History"}

for i, tabName in ipairs(tabNames) do
    local tabBtn = Instance.new("TextButton")
    tabBtn.Size = UDim2.new(0.2, -4, 1, 0)
    tabBtn.Position = UDim2.new((i-1) * 0.2, (i-1) * 4, 0, 0)
    tabBtn.BackgroundColor3 = i == 1 and colors.accent or colors.secondary
    tabBtn.BorderSizePixel = 0
    tabBtn.Text = tabName
    tabBtn.TextColor3 = colors.text
    tabBtn.TextSize = 10
    tabBtn.Font = Enum.Font.GothamBold
    tabBtn.TextScaled = true
    tabBtn.Parent = tabFrame
    
    local tabBtnCorner = Instance.new("UICorner")
    tabBtnCorner.CornerRadius = UDim.new(0, 6)
    tabBtnCorner.Parent = tabBtn
    
    tabButtons[i] = tabBtn
end

-- Content Area
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -20, 1, -175)
contentFrame.Position = UDim2.new(0, 10, 0, 170)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

-- TAB 1: Manual Input
local manualTab = Instance.new("Frame")
manualTab.Size = UDim2.new(1, 0, 1, 0)
manualTab.BackgroundTransparency = 1
manualTab.Visible = true
manualTab.Parent = contentFrame

local manualLabel = Instance.new("TextLabel")
manualLabel.Size = UDim2.new(1, 0, 0, 25)
manualLabel.Position = UDim2.new(0, 5, 0, 5)
manualLabel.BackgroundTransparency = 1
manualLabel.Text = "üéµ Nh·∫≠p ID Nh·∫°c Roblox"
manualLabel.TextColor3 = colors.text
manualLabel.TextSize = 14
manualLabel.Font = Enum.Font.GothamBold
manualLabel.TextXAlignment = Enum.TextXAlignment.Left
manualLabel.Parent = manualTab

local idInput = Instance.new("TextBox")
idInput.Size = UDim2.new(1, -10, 0, 40)
idInput.Position = UDim2.new(0, 5, 0, 35)
idInput.BackgroundColor3 = colors.secondary
idInput.BorderSizePixel = 1
idInput.BorderColor3 = colors.accent
idInput.PlaceholderText = "Nh·∫≠p ID nh·∫°c Roblox..."
idInput.Text = ""
idInput.TextColor3 = colors.text
idInput.TextSize = 14
idInput.Font = Enum.Font.Gotham
idInput.Parent = manualTab

local idInputCorner = Instance.new("UICorner")
idInputCorner.CornerRadius = UDim.new(0, 8)
idInputCorner.Parent = idInput

-- Manual Controls
local manualControlFrame = Instance.new("Frame")
manualControlFrame.Size = UDim2.new(1, -10, 0, 40)
manualControlFrame.Position = UDim2.new(0, 5, 0, 85)
manualControlFrame.BackgroundTransparency = 1
manualControlFrame.Parent = manualTab

local playManualBtn = Instance.new("TextButton")
playManualBtn.Size = UDim2.new(0.32, 0, 1, 0)
playManualBtn.Position = UDim2.new(0, 0, 0, 0)
playManualBtn.BackgroundColor3 = colors.accent
playManualBtn.BorderSizePixel = 0
playManualBtn.Text = "‚ñ∂Ô∏è Play"
playManualBtn.TextColor3 = colors.text
playManualBtn.TextSize = 14
playManualBtn.Font = Enum.Font.GothamBold
playManualBtn.Parent = manualControlFrame

local playManualCorner = Instance.new("UICorner")
playManualCorner.CornerRadius = UDim.new(0, 6)
playManualCorner.Parent = playManualBtn

local stopBtn = Instance.new("TextButton")
stopBtn.Size = UDim2.new(0.32, 0, 1, 0)
stopBtn.Position = UDim2.new(0.34, 0, 0, 0)
stopBtn.BackgroundColor3 = colors.danger
stopBtn.BorderSizePixel = 0
stopBtn.Text = "‚èπÔ∏è Stop"
stopBtn.TextColor3 = colors.text
stopBtn.TextSize = 14
stopBtn.Font = Enum.Font.GothamBold
stopBtn.Parent = manualControlFrame

local stopBtnCorner = Instance.new("UICorner")
stopBtnCorner.CornerRadius = UDim.new(0, 6)
stopBtnCorner.Parent = stopBtn

local pinBtn = Instance.new("TextButton")
pinBtn.Size = UDim2.new(0.32, 0, 1, 0)
pinBtn.Position = UDim2.new(0.68, 0, 0, 0)
pinBtn.BackgroundColor3 = colors.warning
pinBtn.BorderSizePixel = 0
pinBtn.Text = "üìå Pin"
pinBtn.TextColor3 = colors.text
pinBtn.TextSize = 14
pinBtn.Font = Enum.Font.GothamBold
pinBtn.Parent = manualControlFrame

local pinBtnCorner = Instance.new("UICorner")
pinBtnCorner.CornerRadius = UDim.new(0, 6)
pinBtnCorner.Parent = pinBtn

-- TAB 2: Library
local libraryTab = Instance.new("Frame")
libraryTab.Size = UDim2.new(1, 0, 1, 0)
libraryTab.BackgroundTransparency = 1
libraryTab.Visible = false
libraryTab.Parent = contentFrame

local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(1, -10, 0, 35)
searchBox.Position = UDim2.new(0, 5, 0, 5)
searchBox.BackgroundColor3 = colors.secondary
searchBox.BorderSizePixel = 1
searchBox.BorderColor3 = colors.accent
searchBox.PlaceholderText = "üîç T√¨m ki·∫øm b√†i h√°t..."
searchBox.Text = ""
searchBox.TextColor3 = colors.text
searchBox.TextSize = 12
searchBox.Font = Enum.Font.Gotham
searchBox.Parent = libraryTab

local searchCorner = Instance.new("UICorner")
searchCorner.CornerRadius = UDim.new(0, 8)
searchCorner.Parent = searchBox

local libraryScroll = Instance.new("ScrollingFrame")
libraryScroll.Size = UDim2.new(1, -10, 1, -45)
libraryScroll.Position = UDim2.new(0, 5, 0, 45)
libraryScroll.BackgroundColor3 = colors.secondary
libraryScroll.BorderSizePixel = 0
libraryScroll.ScrollBarThickness = 6
libraryScroll.ScrollBarImageColor3 = colors.accent
libraryScroll.Parent = libraryTab

local libraryScrollCorner = Instance.new("UICorner")
libraryScrollCorner.CornerRadius = UDim.new(0, 8)
libraryScrollCorner.Parent = libraryScroll

local libraryLayout = Instance.new("UIListLayout")
libraryLayout.SortOrder = Enum.SortOrder.LayoutOrder
libraryLayout.Padding = UDim.new(0, 3)
libraryLayout.Parent = libraryScroll

-- TAB 3: Pinned
local pinnedTab = Instance.new("Frame")
pinnedTab.Size = UDim2.new(1, 0, 1, 0)
pinnedTab.BackgroundTransparency = 1
pinnedTab.Visible = false
pinnedTab.Parent = contentFrame

local pinnedScroll = Instance.new("ScrollingFrame")
pinnedScroll.Size = UDim2.new(1, -10, 1, -10)
pinnedScroll.Position = UDim2.new(0, 5, 0, 5)
pinnedScroll.BackgroundColor3 = colors.secondary
pinnedScroll.BorderSizePixel = 0
pinnedScroll.ScrollBarThickness = 6
pinnedScroll.ScrollBarImageColor3 = colors.accent
pinnedScroll.Parent = pinnedTab

local pinnedScrollCorner = Instance.new("UICorner")
pinnedScrollCorner.CornerRadius = UDim.new(0, 8)
pinnedScrollCorner.Parent = pinnedScroll

local pinnedLayout = Instance.new("UIListLayout")
pinnedLayout.SortOrder = Enum.SortOrder.LayoutOrder
pinnedLayout.Padding = UDim.new(0, 3)
pinnedLayout.Parent = pinnedScroll

-- TAB 4: Favorites
local favoritesTab = Instance.new("Frame")
favoritesTab.Size = UDim2.new(1, 0, 1, 0)
favoritesTab.BackgroundTransparency = 1
favoritesTab.Visible = false
favoritesTab.Parent = contentFrame

local favoritesScroll = Instance.new("ScrollingFrame")
favoritesScroll.Size = UDim2.new(1, -10, 1, -10)
favoritesScroll.Position = UDim2.new(0, 5, 0, 5)
favoritesScroll.BackgroundColor3 = colors.secondary
favoritesScroll.BorderSizePixel = 0
favoritesScroll.ScrollBarThickness = 6
favoritesScroll.ScrollBarImageColor3 = colors.accent
favoritesScroll.Parent = favoritesTab

local favoritesScrollCorner = Instance.new("UICorner")
favoritesScrollCorner.CornerRadius = UDim.new(0, 8)
favoritesScrollCorner.Parent = favoritesScroll

local favoritesLayout = Instance.new("UIListLayout")
favoritesLayout.SortOrder = Enum.SortOrder.LayoutOrder
favoritesLayout.Padding = UDim.new(0, 3)
favoritesLayout.Parent = favoritesScroll

-- TAB 5: History
local historyTab = Instance.new("Frame")
historyTab.Size = UDim2.new(1, 0, 1, 0)
historyTab.BackgroundTransparency = 1
historyTab.Visible = false
historyTab.Parent = contentFrame

local historyScroll = Instance.new("ScrollingFrame")
historyScroll.Size = UDim2.new(1, -10, 1, -10)
historyScroll.Position = UDim2.new(0, 5, 0, 5)
historyScroll.BackgroundColor3 = colors.secondary
historyScroll.BorderSizePixel = 0
historyScroll.ScrollBarThickness = 6
historyScroll.ScrollBarImageColor3 = colors.accent
historyScroll.Parent = historyTab

local historyScrollCorner = Instance.new("UICorner")
historyScrollCorner.CornerRadius = UDim.new(0, 8)
historyScrollCorner.Parent = historyScroll

local historyLayout = Instance.new("UIListLayout")
historyLayout.SortOrder = Enum.SortOrder.LayoutOrder
historyLayout.Padding = UDim.new(0, 3)
historyLayout.Parent = historyScroll

-- Minimized Frame
local minimizedFrame = Instance.new("Frame")
minimizedFrame.Size = UDim2.new(0, 180, 0, 40)
minimizedFrame.Position = UDim2.new(0.5, -90, 0, 20)
minimizedFrame.BackgroundColor3 = colors.primary
minimizedFrame.BorderSizePixel = 0
minimizedFrame.Visible = false
minimizedFrame.Parent = screenGui

local minimizedCorner = Instance.new("UICorner")
minimizedCorner.CornerRadius = UDim.new(0, 8)
minimizedCorner.Parent = minimizedFrame

local restoreBtn = Instance.new("TextButton")
restoreBtn.Size = UDim2.new(1, -35, 1, 0)
restoreBtn.BackgroundTransparency = 1
restoreBtn.Text = "üéµ Music Player V2"
restoreBtn.TextColor3 = colors.text
restoreBtn.TextSize = 12
restoreBtn.Font = Enum.Font.GothamBold
restoreBtn.Parent = minimizedFrame

local minCloseBtn = Instance.new("TextButton")
minCloseBtn.Size = UDim2.new(0, 30, 0, 30)
minCloseBtn.Position = UDim2.new(1, -32, 0, 5)
minCloseBtn.BackgroundColor3 = colors.danger
minCloseBtn.BorderSizePixel = 0
minCloseBtn.Text = "‚ùå"
minCloseBtn.TextColor3 = colors.text
minCloseBtn.TextSize = 12
minCloseBtn.Font = Enum.Font.GothamBold
minCloseBtn.Parent = minimizedFrame

local minCloseBtnCorner = Instance.new("UICorner")
minCloseBtnCorner.CornerRadius = UDim.new(0, 6)
minCloseBtnCorner.Parent = minCloseBtn

-- FUNCTIONS
local function showNotification(text, color, icon)
    spawn(function()
        local notif = Instance.new("Frame")
        notif.Size = UDim2.new(0, 280, 0, 50)
        notif.Position = UDim2.new(1, 0, 0, 100)
        notif.BackgroundColor3 = color or colors.accent
        notif.BorderSizePixel = 0
        notif.Parent = screenGui
        
        local notifCorner = Instance.new("UICorner")
        notifCorner.CornerRadius = UDim.new(0, 8)
        notifCorner.Parent = notif
        
        local iconLabel = Instance.new("TextLabel")
        iconLabel.Size = UDim2.new(0, 40, 1, 0)
        iconLabel.BackgroundTransparency = 1
        iconLabel.Text = icon or "‚ÑπÔ∏è"
        iconLabel.TextColor3 = colors.text
        iconLabel.TextSize = 18
        iconLabel.Font = Enum.Font.GothamBold
        iconLabel.Parent = notif
        
        local textLabel = Instance.new("TextLabel")
        textLabel.Size = UDim2.new(1, -45, 1, 0)
        textLabel.Position = UDim2.new(0, 45, 0, 0)
        textLabel.BackgroundTransparency = 1
        textLabel.Text = text
        textLabel.TextColor3 = colors.text
        textLabel.TextSize = 12
        textLabel.Font = Enum.Font.Gotham
        textLabel.TextXAlignment = Enum.TextXAlignment.Left
        textLabel.TextWrapped = true
        textLabel.Parent = notif
        
        local showTween = TweenService:Create(notif, TweenInfo.new(0.4), {Position = UDim2.new(1, -290, 0, 100)})
        showTween:Play()
        
        wait(3)
        local hideTween = TweenService:Create(notif, TweenInfo.new(0.4), {Position = UDim2.new(1, 0, 0, 100)})
        hideTween:Play()
        hideTween.Completed:Connect(function()
            notif:Destroy()
        end)
    end)
end

local function createSound(musicId)
    if currentSound then
        pcall(function()
            currentSound:Stop()
            currentSound:Destroy()
        end)
        currentSound = nil
        wait(0.1)
    end
    
    local success, sound = pcall(function()
        local newSound = Instance.new("Sound")
        newSound.SoundId = "rbxassetid://" .. tostring(musicId)
        newSound.Volume = userData.volume
        newSound.Looped = userData.repeatMode == "one"
        newSound.Parent = workspace
        return newSound
    end)
    
    if success then
        return sound
    else
        return nil
    end
end

local function addToHistory(musicData)
    for i, item in ipairs(userData.history) do
        if item.id == musicData.id then
            table.remove(userData.history, i)
            break
        end
    end
    
    table.insert(userData.history, 1, {
        name = musicData.name,
        id = musicData.id,
        playTime = os.time()
    })
    
    if #userData.history > 20 then
        table.remove(userData.history, 21)
    end
    
    updateHistoryTab()
end

local function addToPinned(musicData)
    for _, item in ipairs(userData.pinned) do
        if item.id == musicData.id then
            showNotification("ƒê√£ ƒë∆∞·ª£c ghim r·ªìi!", colors.danger, "üìå")
            return
        end
    end
    
    if #userData.pinned >= 30 then
        showNotification("T·ªëi ƒëa 30 b√†i ghim! X√≥a b√†i c≈© tr∆∞·ªõc.", colors.danger, "üìå")
        return
    end
    
    table.insert(userData.pinned, musicData)
    showNotification("ƒê√£ ghim: " .. musicData.name .. " (" .. #userData.pinned .. "/30)", colors.warning, "üìå")
    updatePinnedTab()
end

local function addToFavorites(musicData)
    for _, item in ipairs(userData.favorites) do
        if item.id == musicData.id then
            showNotification("ƒê√£ c√≥ trong y√™u th√≠ch!", colors.danger, "‚ù§Ô∏è")
            return
        end
    end
    
    table.insert(userData.favorites, musicData)
    showNotification("ƒê√£ th√™m v√†o y√™u th√≠ch: " .. musicData.name, colors.accent, "‚ù§Ô∏è")
    updateFavoritesTab()
end

local function playMusic(musicData)
    currentSound = createSound(musicData.id)
    
    if not currentSound then
        showNotification("L·ªói t·∫°o √¢m thanh! ID kh√¥ng h·ª£p l·ªá.", colors.danger, "‚ö†Ô∏è")
        return
    end
    
    local success = pcall(function()
        currentSound:Play()
    end)
    
    if not success then
        showNotification("L·ªói ph√°t nh·∫°c! Th·ª≠ l·∫°i sau.", colors.danger, "‚ö†Ô∏è")
        return
    end
    
    currentPlaying = musicData
    nowPlayingLabel.Text = musicData.name
    statusLabel.Text = "ƒêang ph√°t - Volume: " .. userData.volume
    musicIcon.Text = "üéµ"
    
    addToHistory(musicData)
    showNotification("üéµ ƒêang ph√°t: " .. musicData.name, colors.accent, "üéµ")
    
    if currentSound then
        currentSound.Ended:Connect(function()
            if userData.repeatMode == "all" then
                local currentIndex = 1
                for i, item in ipairs(filteredMusic) do
                    if item.id == musicData.id then
                        currentIndex = i
                        break
                    end
                end
                
                local nextIndex = currentIndex + 1
                if nextIndex > #filteredMusic then
                    nextIndex = 1
                end
                
                if filteredMusic[nextIndex] then
                    playMusic(filteredMusic[nextIndex])
                else
                    stopMusic()
                end
            elseif userData.repeatMode == "one" then
                playMusic(musicData)
            else
                stopMusic()
            end
        end)
    end
end

local function stopMusic()
    if currentSound then
        pcall(function()
            currentSound:Stop()
            currentSound:Destroy()
        end)
        currentSound = nil
    end
    
    currentPlaying = nil
    nowPlayingLabel.Text = "Kh√¥ng c√≥ nh·∫°c n√†o ƒëang ph√°t"
    statusLabel.Text = "S·∫µn s√†ng ph√°t nh·∫°c"
    musicIcon.Text = "‚è∏Ô∏è"
    
    showNotification("ƒê√£ d·ª´ng ph√°t nh·∫°c", colors.danger, "‚èπÔ∏è")
end

local function updateVolume(newVolume)
    newVolume = math.clamp(newVolume, 0, 10)
    userData.volume = newVolume
    volumeSlider.Text = tostring(newVolume)
    
    -- Update volume icon based on level
    if newVolume == 0 then
        volumeIcon.Text = "üîá"
    elseif newVolume <= 3 then
        volumeIcon.Text = "üîâ"
    else
        volumeIcon.Text = "üîä"
    end
    
    -- Update current sound volume
    if currentSound then
        currentSound.Volume = newVolume
    end
    
    -- Update status
    if currentPlaying then
        statusLabel.Text = "ƒêang ph√°t - Volume: " .. newVolume
    else
        statusLabel.Text = "Volume: " .. newVolume .. " | S·∫µn s√†ng ph√°t nh·∫°c"
    end
    
    showNotification("Volume: " .. newVolume .. "/10", colors.accent, volumeIcon.Text)
end
local function cycleRepeatMode()
    if userData.repeatMode == "off" then
        userData.repeatMode = "one"
        repeatBtn.Text = "üîÇ"
        repeatBtn.TextColor3 = colors.accent
        showNotification("L·∫∑p l·∫°i: M·ªôt b√†i", colors.accent, "üîÇ")
    elseif userData.repeatMode == "one" then
        userData.repeatMode = "all"
        repeatBtn.Text = "üîÅ"
        repeatBtn.TextColor3 = colors.accent
        showNotification("L·∫∑p l·∫°i: T·∫•t c·∫£", colors.accent, "üîÅ")
    else
        userData.repeatMode = "off"
        repeatBtn.Text = "üîÑ"
        repeatBtn.TextColor3 = colors.textSecondary
        showNotification("T·∫Øt l·∫∑p l·∫°i", colors.textSecondary, "üîÑ")
    end
    
    if currentSound then
        currentSound.Looped = userData.repeatMode == "one"
    end
end

local function createMusicItem(musicData, parent, showRemove, isPinned)
    local itemFrame = Instance.new("Frame")
    itemFrame.Size = UDim2.new(1, -12, 0, 50)
    itemFrame.BackgroundColor3 = isPinned and Color3.fromRGB(80, 60, 20) or colors.primary
    itemFrame.BorderSizePixel = 0
    itemFrame.Parent = parent
    
    local itemCorner = Instance.new("UICorner")
    itemCorner.CornerRadius = UDim.new(0, 6)
    itemCorner.Parent = itemFrame
    
    -- Pin indicator
    if isPinned then
        local pinIndicator = Instance.new("TextLabel")
        pinIndicator.Size = UDim2.new(0, 25, 0, 25)
        pinIndicator.Position = UDim2.new(0, 5, 0, 12)
        pinIndicator.BackgroundTransparency = 1
        pinIndicator.Text = "üìå"
        pinIndicator.TextColor3 = Color3.fromRGB(255, 200, 100)
        pinIndicator.TextSize = 14
        pinIndicator.Font = Enum.Font.GothamBold
        pinIndicator.Parent = itemFrame
    end
    
    -- Song name
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, showRemove and -90 or -50, 0, 25)
    nameLabel.Position = UDim2.new(0, isPinned and 35 or 10, 0, 5)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = musicData.name
    nameLabel.TextColor3 = colors.text
    nameLabel.TextSize = 12
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    nameLabel.TextTruncate = Enum.TextTruncate.AtEnd
    nameLabel.Parent = itemFrame
    
    -- ID info
    local idLabel = Instance.new("TextLabel")
    idLabel.Size = UDim2.new(1, showRemove and -90 or -50, 0, 15)
    idLabel.Position = UDim2.new(0, isPinned and 35 or 10, 0, 25)
    idLabel.BackgroundTransparency = 1
    idLabel.Text = "ID: " .. musicData.id
    idLabel.TextColor3 = colors.textSecondary
    idLabel.TextSize = 10
    idLabel.Font = Enum.Font.Gotham
    idLabel.TextXAlignment = Enum.TextXAlignment.Left
    idLabel.TextTruncate = Enum.TextTruncate.AtEnd
    idLabel.Parent = itemFrame
    
    -- Play button
    local playBtn = Instance.new("TextButton")
    playBtn.Size = UDim2.new(0, 35, 0, 35)
    playBtn.Position = UDim2.new(1, showRemove and -80 or -40, 0, 7)
    playBtn.BackgroundColor3 = colors.accent
    playBtn.BorderSizePixel = 0
    playBtn.Text = "‚ñ∂Ô∏è"
    playBtn.TextColor3 = colors.text
    playBtn.TextSize = 14
    playBtn.Font = Enum.Font.GothamBold
    playBtn.Parent = itemFrame
    
    local playBtnCorner = Instance.new("UICorner")
    playBtnCorner.CornerRadius = UDim.new(0, 6)
    playBtnCorner.Parent = playBtn
    
    playBtn.MouseButton1Click:Connect(function()
        playMusic(musicData)
    end)
    
    -- Remove button
    if showRemove then
        local removeBtn = Instance.new("TextButton")
        removeBtn.Size = UDim2.new(0, 35, 0, 35)
        removeBtn.Position = UDim2.new(1, -40, 0, 7)
        removeBtn.BackgroundColor3 = colors.danger
        removeBtn.BorderSizePixel = 0
        removeBtn.Text = "üóëÔ∏è"
        removeBtn.TextColor3 = colors.text
        removeBtn.TextSize = 12
        removeBtn.Font = Enum.Font.GothamBold
        removeBtn.Parent = itemFrame
        
        local removeBtnCorner = Instance.new("UICorner")
        removeBtnCorner.CornerRadius = UDim.new(0, 6)
        removeBtnCorner.Parent = removeBtn
        
        removeBtn.MouseButton1Click:Connect(function()
            if isPinned then
                for i, item in ipairs(userData.pinned) do
                    if item.id == musicData.id then
                        table.remove(userData.pinned, i)
                        break
                    end
                end
                updatePinnedTab()
                showNotification("ƒê√£ b·ªè ghim", colors.danger, "üìå")
            else
                for i, item in ipairs(userData.favorites) do
                    if item.id == musicData.id then
                        table.remove(userData.favorites, i)
                        break
                    end
                end
                updateFavoritesTab()
                showNotification("ƒê√£ x√≥a kh·ªèi y√™u th√≠ch", colors.danger, "üóëÔ∏è")
            end
        end)
    else
        -- Add to favorites button (for library and history)
        local favBtn = Instance.new("TextButton")
        favBtn.Size = UDim2.new(0, 35, 0, 35)
        favBtn.Position = UDim2.new(1, -80, 0, 7)
        favBtn.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
        favBtn.BorderSizePixel = 0
        favBtn.Text = "‚ù§Ô∏è"
        favBtn.TextColor3 = colors.text
        favBtn.TextSize = 12
        favBtn.Font = Enum.Font.GothamBold
        favBtn.Parent = itemFrame
        
        local favBtnCorner = Instance.new("UICorner")
        favBtnCorner.CornerRadius = UDim.new(0, 6)
        favBtnCorner.Parent = favBtn
        
        favBtn.MouseButton1Click:Connect(function()
            addToFavorites(musicData)
        end)
    end
    
    -- Hover effects
    local originalColor = itemFrame.BackgroundColor3
    itemFrame.MouseEnter:Connect(function()
        local newColor = Color3.fromRGB(
            math.min(255, originalColor.R * 255 * 1.3),
            math.min(255, originalColor.G * 255 * 1.3),
            math.min(255, originalColor.B * 255 * 1.3)
        )
        TweenService:Create(itemFrame, TweenInfo.new(0.2), {BackgroundColor3 = newColor}):Play()
    end)
    
    itemFrame.MouseLeave:Connect(function()
        TweenService:Create(itemFrame, TweenInfo.new(0.2), {BackgroundColor3 = originalColor}):Play()
    end)
    
    return itemFrame
end

-- Update Functions
function updateLibraryTab()
    for _, child in pairs(libraryScroll:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    for _, musicData in ipairs(filteredMusic) do
        createMusicItem(musicData, libraryScroll, false, false)
    end
    
    libraryScroll.CanvasSize = UDim2.new(0, 0, 0, #filteredMusic * 53)
end

function updatePinnedTab()
    for _, child in pairs(pinnedScroll:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    if #userData.pinned == 0 then
        local emptyFrame = Instance.new("Frame")
        emptyFrame.Size = UDim2.new(1, 0, 0, 120)
        emptyFrame.BackgroundTransparency = 1
        emptyFrame.Parent = pinnedScroll
        
        local emptyLabel = Instance.new("TextLabel")
        emptyLabel.Size = UDim2.new(1, 0, 1, 0)
        emptyLabel.BackgroundTransparency = 1
        emptyLabel.Text = "üìå\n\nCh∆∞a c√≥ b√†i h√°t ƒë∆∞·ª£c ghim\n\nGhim t·ªëi ƒëa 30 b√†i y√™u th√≠ch!\nNh·∫≠p ID ‚Üí B·∫•m üìå Pin\n\nHi·ªán t·∫°i: 0/30"
        emptyLabel.TextColor3 = colors.textSecondary
        emptyLabel.TextSize = 14
        emptyLabel.Font = Enum.Font.Gotham
        emptyLabel.Parent = emptyFrame
    else
        -- Add counter label at top
        local counterFrame = Instance.new("Frame")
        counterFrame.Size = UDim2.new(1, 0, 0, 30)
        counterFrame.BackgroundColor3 = colors.primary
        counterFrame.BorderSizePixel = 0
        counterFrame.Parent = pinnedScroll
        
        local counterCorner = Instance.new("UICorner")
        counterCorner.CornerRadius = UDim.new(0, 6)
        counterCorner.Parent = counterFrame
        
        local counterLabel = Instance.new("TextLabel")
        counterLabel.Size = UDim2.new(1, 0, 1, 0)
        counterLabel.BackgroundTransparency = 1
        counterLabel.Text = "üìå ƒê√£ ghim: " .. #userData.pinned .. "/30 b√†i"
        counterLabel.TextColor3 = colors.text
        counterLabel.TextSize = 12
        counterLabel.Font = Enum.Font.GothamBold
        counterLabel.Parent = counterFrame
        
        for _, musicData in ipairs(userData.pinned) do
            createMusicItem(musicData, pinnedScroll, true, true)
        end
    end
    
    pinnedScroll.CanvasSize = UDim2.new(0, 0, 0, math.max((#userData.pinned + 1) * 53, 120))
end

function updateFavoritesTab()
    for _, child in pairs(favoritesScroll:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    if #userData.favorites == 0 then
        local emptyFrame = Instance.new("Frame")
        emptyFrame.Size = UDim2.new(1, 0, 0, 120)
        emptyFrame.BackgroundTransparency = 1
        emptyFrame.Parent = favoritesScroll
        
        local emptyLabel = Instance.new("TextLabel")
        emptyLabel.Size = UDim2.new(1, 0, 1, 0)
        emptyLabel.BackgroundTransparency = 1
        emptyLabel.Text = "‚ù§Ô∏è\n\nCh∆∞a c√≥ b√†i h√°t y√™u th√≠ch\n\nB·∫•m ‚ù§Ô∏è ·ªü Library ho·∫∑c History\nƒë·ªÉ th√™m v√†o y√™u th√≠ch!"
        emptyLabel.TextColor3 = colors.textSecondary
        emptyLabel.TextSize = 14
        emptyLabel.Font = Enum.Font.Gotham
        emptyLabel.Parent = emptyFrame
    else
        for _, musicData in ipairs(userData.favorites) do
            createMusicItem(musicData, favoritesScroll, true, false)
        end
    end
    
    favoritesScroll.CanvasSize = UDim2.new(0, 0, 0, math.max(#userData.favorites * 53, 120))
end

function updateHistoryTab()
    for _, child in pairs(historyScroll:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    if #userData.history == 0 then
        local emptyFrame = Instance.new("Frame")
        emptyFrame.Size = UDim2.new(1, 0, 0, 120)
        emptyFrame.BackgroundTransparency = 1
        emptyFrame.Parent = historyScroll
        
        local emptyLabel = Instance.new("TextLabel")
        emptyLabel.Size = UDim2.new(1, 0, 1, 0)
        emptyLabel.BackgroundTransparency = 1
        emptyLabel.Text = "üìú\n\nCh∆∞a c√≥ l·ªãch s·ª≠ ph√°t nh·∫°c\n\nPh√°t nh·∫°c ƒë·ªÉ xem l·ªãch s·ª≠!\nL∆∞u 20 b√†i g·∫ßn nh·∫•t"
        emptyLabel.TextColor3 = colors.textSecondary
        emptyLabel.TextSize = 14
        emptyLabel.Font = Enum.Font.Gotham
        emptyLabel.Parent = emptyFrame
    else
        for _, musicData in ipairs(userData.history) do
            createMusicItem(musicData, historyScroll, false, false)
        end
    end
    
    historyScroll.CanvasSize = UDim2.new(0, 0, 0, math.max(#userData.history * 53, 120))
end

local function filterMusic(searchText)
    filteredMusic = {}
    searchText = searchText:lower()
    
    if searchText == "" then
        filteredMusic = musicLibrary
    else
        for _, music in ipairs(musicLibrary) do
            if music.name:lower():find(searchText) or music.id:find(searchText) then
                table.insert(filteredMusic, music)
            end
        end
    end
    
    updateLibraryTab()
end

local function switchTab(tabIndex)
    currentTab = tabIndex
    
    -- Update tab buttons
    for i, button in ipairs(tabButtons) do
        button.BackgroundColor3 = i == tabIndex and colors.accent or colors.secondary
    end
    
    -- Hide all tabs
    manualTab.Visible = false
    libraryTab.Visible = false
    pinnedTab.Visible = false
    favoritesTab.Visible = false
    historyTab.Visible = false
    
    -- Show selected tab
    if tabIndex == 1 then
        manualTab.Visible = true
    elseif tabIndex == 2 then
        libraryTab.Visible = true
    elseif tabIndex == 3 then
        pinnedTab.Visible = true
        updatePinnedTab()
    elseif tabIndex == 4 then
        favoritesTab.Visible = true
        updateFavoritesTab()
    elseif tabIndex == 5 then
        historyTab.Visible = true
        updateHistoryTab()
    end
end

local function toggleMinimize()
    isMinimized = not isMinimized
    
    if isMinimized then
        local tween = TweenService:Create(mainFrame, TweenInfo.new(0.4), {Size = UDim2.new(0, 0, 0, 0)})
        tween:Play()
        tween.Completed:Connect(function()
            mainFrame.Visible = false
            minimizedFrame.Visible = true
        end)
    else
        mainFrame.Visible = true
        minimizedFrame.Visible = false
        local tween = TweenService:Create(mainFrame, TweenInfo.new(0.4), {Size = UDim2.new(0, 450, 0, 400)})
        tween:Play()
    end
end

local function closePlayer()
    if currentSound then
        pcall(function()
            currentSound:Stop()
            currentSound:Destroy()
        end)
    end
    screenGui:Destroy()
end

-- Initialize
filteredMusic = musicLibrary
updateLibraryTab()
updatePinnedTab()
updateFavoritesTab()
updateHistoryTab()

-- EVENT CONNECTIONS

-- Tab switching
for i, button in ipairs(tabButtons) do
    button.MouseButton1Click:Connect(function()
        switchTab(i)
    end)
end

-- Manual tab
playManualBtn.MouseButton1Click:Connect(function()
    local id = idInput.Text:gsub("%s+", "")
    if id ~= "" then
        playMusic({name = "Custom ID: " .. id, id = id})
    else
        showNotification("Vui l√≤ng nh·∫≠p ID nh·∫°c!", colors.danger, "‚ö†Ô∏è")
    end
end)

stopBtn.MouseButton1Click:Connect(function()
    stopMusic()
end)

pinBtn.MouseButton1Click:Connect(function()
    local id = idInput.Text:gsub("%s+", "")
    if id ~= "" then
        addToPinned({name = "Custom ID: " .. id, id = id})
    else
        showNotification("Vui l√≤ng nh·∫≠p ID nh·∫°c!", colors.danger, "‚ö†Ô∏è")
    end
end)

idInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local id = idInput.Text:gsub("%s+", "")
        if id ~= "" then
            playMusic({name = "Custom ID: " .. id, id = id})
        end
    end
end)

-- Volume control
volumeSlider.FocusLost:Connect(function()
    local volume = tonumber(volumeSlider.Text)
    if volume then
        updateVolume(volume)
    else
        volumeSlider.Text = tostring(userData.volume)
        showNotification("Volume ph·∫£i l√† s·ªë t·ª´ 0-10!", colors.danger, "‚ö†Ô∏è")
    end
end)

-- Volume shortcuts with + and - keys
volumeSlider.Changed:Connect(function()
    if volumeSlider.Text == "+" then
        updateVolume(userData.volume + 1)
    elseif volumeSlider.Text == "-" then
        updateVolume(userData.volume - 1)
    end
end)

-- Search
searchBox.Changed:Connect(function()
    filterMusic(searchBox.Text)
end)

-- Initialize volume display
updateVolume(userData.volume)
-- Control buttons
repeatBtn.MouseButton1Click:Connect(cycleRepeatMode)
minimizeBtn.MouseButton1Click:Connect(toggleMinimize)
restoreBtn.MouseButton1Click:Connect(toggleMinimize)
closeBtn.MouseButton1Click:Connect(closePlayer)
minCloseBtn.MouseButton1Click:Connect(closePlayer)

-- Hover effects for buttons
local function addHoverEffect(button, hoverMultiplier)
    local originalColor = button.BackgroundColor3
    
    button.MouseEnter:Connect(function()
        local newColor = Color3.fromRGB(
            math.min(255, originalColor.R * 255 * (hoverMultiplier or 1.2)),
            math.min(255, originalColor.G * 255 * (hoverMultiplier or 1.2)),
            math.min(255, originalColor.B * 255 * (hoverMultiplier or 1.2))
        )
        TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = newColor}):Play()
    end)
    
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = originalColor}):Play()
    end)
end

-- Apply hover effects
addHoverEffect(playManualBtn)
addHoverEffect(stopBtn)
addHoverEffect(pinBtn)
addHoverEffect(repeatBtn)
addHoverEffect(minimizeBtn)
addHoverEffect(closeBtn)
addHoverEffect(minCloseBtn)
addHoverEffect(volumeSlider, 1.1)

-- Draggable functionality
local dragging = false
local dragStart = nil
local startPos = nil

local function makeDraggable(frame)
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
        end
    end)
    
    frame.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
    
    frame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
end

makeDraggable(headerFrame)
makeDraggable(minimizedFrame)

-- Welcome notification
spawn(function()
    wait(1)
    showNotification("üéâ Music Player 2.0+ ƒë√£ s·∫µn s√†ng!", colors.accent, "üéµ")
end)

print("üéµ MUSIC PLAYER 2.0+ - ENHANCED VERSION LOADED! üéµ")
print("‚úÖ ALL BUGS FIXED + NEW FEATURES!")
print("")
print("üÜï FEATURES:")
print("   ‚ú® 5 tabs: Manual, Library, Pinned, Favorites, History")
print("   üìå Pin up to 30 songs (upgraded from 3!)")
print("   üîä Volume Control (0-10) with shortcuts")
print("   ‚ù§Ô∏è Unlimited favorites")
print("   üìú History of 20 recent songs")
print("   üîÑ Repeat modes: Off/One/All")
print("   üîç Search in library")
print("   üì± Drag & drop, minimize")
print("   üéâ Beautiful notifications")
print("")
print("üí° HOW TO USE:")
print("   üÜî Manual: Enter ID ‚Üí Play/Pin")
print("   üìã Library: Search & play songs")
print("   üìå Pinned: Your top 30 songs")
print("   ‚ù§Ô∏è Favorites: Click ‚ù§Ô∏è to add")
print("   üìú History: Recently played")
print("")
print("üîä VOLUME CONTROL:")
print("   ‚Ä¢ Type number 0-10 in volume box")
print("   ‚Ä¢ Type + to increase, - to decrease")
print("   ‚Ä¢ üîá Mute, üîâ Low, üîä High icons")
print("   ‚Ä¢ Real-time volume adjustment")
print("")
print("üìå PINNED SYSTEM:")
print("   ‚Ä¢ Up to 30 songs (10x more than before!)")
print("   ‚Ä¢ Counter shows current usage")
print("   ‚Ä¢ Special golden background")
print("   ‚Ä¢ Persistent across sessions")
print("")
print("üéµ Enjoy your enhanced music experience! üéµ")